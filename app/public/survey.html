<!DOCTYPE html>
<html>
<head>
	<title>FriendFinder --Survey</title>

	<!-- Latest compiled and minified CSS & JS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

	<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->

	<!-- Font Awesome Glyphicons -->
<!-- 	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
 -->
	<!-- Chosen -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

</head>
<body style="background-image: url(images/brickwall.png);" >

	<div class="container" style="color: #4C5454;" >
		
		<h1 style="text-align: center; margin: 50px;">FriendFinder</h1>
		
		<div style="border: 1px solid white; padding: 20px; margin: 10px;">

			<h3>Profile Information</h3>
			<br>
			<h4>Name (Required) </h4>
			<input style="width: 100%" type="text" name="" id="name" class="userInput" required >
			<h4>Link to Photo Image (Required)</h4>
			<input style="width: 100%" type="text" name="" id="pictureLink" class="userInput" required >
			
		</div>

		<div style="border: 1px solid white; padding: 20px; margin: 10px;">
			
			<h3>Personality Check</h3>
			<br>

			<h4><strong>Check Point 1</strong></h4>
			<h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
		 	<select data-placeholder="" class="userInput" id="cp1">
		 		<option value=""></option>
	            <option value="1">So Wrong </option>
	            <option value="2">Maybe</option>
	            <option value="3">Perhaps</option>
	            <option value="4">Agree</option>
	            <option value="5">So True </option>
	      	</select>

			<h4><strong>Check Point 2</strong></h4>
			<h4>Generally speaking, you rely more on your experience than your imagination.</h4>
		 	<select data-placeholder="" class="userInput" id="cp2">
		 		<option value=""></option>
	            <option value="1">So Wrong </option>
	            <option value="2">Maybe</option>
	            <option value="3">Perhaps</option>
	            <option value="4">Agree</option>
	            <option value="5">So True </option>
	      	</select>


			<h4><strong>Check Point 3</strong></h4>
			<h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
		 	<select data-placeholder="" class="userInput" id="cp3">
		 		<option value=""></option>
	            <option value="1">So Wrong </option>
	            <option value="2">Maybe</option>
	            <option value="3">Perhaps</option>
	            <option value="4">Agree</option>
	            <option value="5">So True </option>
	      	</select>


			<h4><strong>Check Point 4</strong></h4>
			<h4>You rarely do something just out of sheer curiosity.</h4>
		 	<select data-placeholder="" class="userInput" id="cp4">
		 		<option value=""></option>
	            <option value="1">So Wrong </option>
	            <option value="2">Maybe</option>
	            <option value="3">Perhaps</option>
	            <option value="4">Agree</option>
	            <option value="5">So True </option>
	      	</select>


			<h4><strong>Check Point 5</strong></h4>
			<h4>People can rarely upset you.</h4>
		 	<select data-placeholder="" class="userInput" id="cp5">
		 		<option value=""></option>
	            <option value="1">So Wrong </option>
	            <option value="2">Maybe</option>
	            <option value="3">Perhaps</option>
	            <option value="4">Agree</option>
	            <option value="5">So True </option>
	      	</select>


			<h4><strong>Check Point 6</strong></h4>
			<h4>It is often difficult for you to relate to other people’s feelings.</h4>
		 	<select data-placeholder="" class="userInput" id="cp6">
		 		<option value=""></option>
	            <option value="1">So Wrong </option>
	            <option value="2">Maybe</option>
	            <option value="3">Perhaps</option>
	            <option value="4">Agree</option>
	            <option value="5">So True </option>
	      	</select>


			<h4><strong>Check Point 7</strong></h4>
			<h4>In a discussion, truth should be more important than people’s sensitivities.</h4>
		 	<select data-placeholder="" class="userInput" id="cp7">
		 		<option value=""></option>
	            <option value="1">So Wrong </option>
	            <option value="2">Maybe</option>
	            <option value="3">Perhaps</option>
	            <option value="4">Agree</option>
	            <option value="5">So True </option>
	      	</select>

			<h4><strong>Check Point 8</strong></h4>
			<h4>You rarely get carried away by fantasies and ideas.</h4>
		 	<select data-placeholder="" class="userInput" id="cp8">
		 		<option value=""></option>
	            <option value="1">So Wrong </option>
	            <option value="2">Maybe</option>
	            <option value="3">Perhaps</option>
	            <option value="4">Agree</option>
	            <option value="5">So True </option>
	      	</select>

			<h4><strong>Check Point 9</strong></h4>
			<h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h4>
		 	<select data-placeholder="" class="userInput" id="cp9">
		 		<option value=""></option>
	            <option value="1">So Wrong </option>
	            <option value="2">Maybe</option>
	            <option value="3">Perhaps</option>
	            <option value="4">Agree</option>
	            <option value="5">So True </option>
	      	</select>

			<h4><strong>Check Point 10</strong></h4>
			<h4>You feel more energetic after spending time with a group of people.</h4>
		 	<select data-placeholder="" class="userInput" id="cp10">
		 		<option value=""></option>
	            <option value="1">So Wrong </option>
	            <option value="2">Maybe</option>
	            <option value="3">Perhaps</option>
	            <option value="4">Agree</option>
	            <option value="5">So True </option>
	      	</select>
		
			<br>
			<br>
			<br>

			<!-- Submit Button -->
			<button style="float: right; width:300px;" type="submit" class="btn btn-lg btn-default" id="submit" >Submit Profile</button>

		</div>
		
		<footer style="margin-top: 100px;" class="footer">
	      <div class="container">
		        <p style="text-align: center;">	&copy; FriendFinder</p>
		        <p style="text-align: center;"><a href="/api/friends">Friend API</a></p>
		        
	      </div>
	    </footer>

	</div>


<!-- Modal -->
<div id="matchedResult" class="modal fade" role="dialog">
	  <div class="modal-dialog">

	    <!-- Modal content-->
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
	        <h2 class="modal-title"><strong>Your Profile Best Match</strong></h2>
	      </div>
	      <div class="modal-body">
	        <h2 id="matchedName" style="text-align: center;"></h2>
	        <div style="margin-top: 25px">
	        <img style="width: 40%; height: 300px; display: block; margin:auto; " id="matchedImg" src="" alt="Your Best Match Profile Picture">
	        </div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>

	  </div>

</div>



<script type="text/javascript">
$(document).ready(function(){

    
$("#submit").on("click", function(){

	//validate whether all user input has been filled

	console.log("Clicked");

	function validateUserInput() {
		var validInput = true;
		  $(".userInput").each(function() {
		    if ( $(this).val() === "" )
		        validInput = false;
		  });
		  return validInput;
	}


	//if all the user input has been filled

	if(validateUserInput() === true){

			var newMemeber = {

					name:$("#name").val().trim(),

	    			pictureLink:$("#pictureLink").val().trim(),
	    			
	    			score: [$("#cp1").val(), $("#cp2").val(), $("#cp3").val(), $("#cp4").val(), $("#cp5").val(), $("#cp6").val(), $("#cp7").val(), $("#cp8").val(), $("#cp9").val(), $("#cp10").val() ]
			};

			$.post("/api/friends", newMemeber, function(data){

				//Graping Result

				console.log(data);
				console.log(data.name);
				console.log(data.pictureLink);



				$("#matchedName").text(data.name);
				$("#matchedImg").attr("src", data.pictureLink);
				$("#matchedResult").modal();

				$("#name").val("");
				$("#pictureLink").val("");
				$("#cp1").val("");
				$("#cp2").val("");
				$("#cp3").val("");
				$("#cp4").val("");
				$("#cp5").val("");
				$("#cp6").val("");
				$("#cp7").val("");
				$("#cp8").val("");
				$("#cp9").val("");
				$("#cp10").val("");

			});


	}else{
		alert("Please fill out the missing input!");
	}

	return false;

	

});//on click



});

</script>





</body>
</html>